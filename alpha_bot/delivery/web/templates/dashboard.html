{% extends "base.html" %}
{% block title %}Alpha Bot - Signals{% endblock %}
{% block content %}
<h2 style="margin-bottom: 1rem; color: #c9d1d9;">Recent Signals</h2>

{% if signals %}
    {% for s in signals %}
    <div class="signal-card">
        <div class="signal-header">
            <span class="author">@{{ s.author_username }}</span>
            <span class="score {% if s.score >= 0.8 %}score-high{% else %}score-mid{% endif %}">
                {{ "%.2f"|format(s.score) }}
            </span>
        </div>
        <p class="tweet-text">{{ s.text }}</p>
        <div class="signal-meta">
            <span>{{ s.sentiment }}</span>
            {% if s.tickers %}
                {% for t in s.tickers.split(',') %}
                    {% if t.strip() %}
                    <span class="ticker-tag">${{ t.strip() }}</span>
                    {% endif %}
                {% endfor %}
            {% endif %}
            <span>{{ s.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
        </div>
    </div>
    {% endfor %}
{% else %}
    <div class="empty">
        <p>No signals yet. Waiting for tweets that score above the alpha threshold.</p>
    </div>
{% endif %}
{% endblock %}
